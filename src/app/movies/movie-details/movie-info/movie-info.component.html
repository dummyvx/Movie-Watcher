<div class="poster">
  <img *ngIf="data.poster_path; else noImage"
       [src]="env + data.poster_path" [alt]="data.title">
</div>
<ng-template #noImage>
  <img class="no-movies" src="../../../../assets/no-image.png" alt="no image">
</ng-template>
<div class="movie-info">
  <div class="basic-details">
    <h2 class="title">{{data.title}}
      <span class="release-date">
      {{ ' (' + data.release_date.slice(0, 4) + ')' }}
      </span>
    </h2>
    <app-movie-rating [rating]="data.vote_average" [size]="'large'"></app-movie-rating>
    <span *ngIf="data.original_title">
      <span>Original Title: </span>
      <span [ngStyle]="{fontStyle: 'italic'}">
        {{data.original_title }}
      </span>
    </span>
    <span *ngIf="data.original_language">
      {{ ' &bull; ' + 'Original Language: ' + data.original_language.toUpperCase() }}
    </span>
    <span *ngIf="data.runtime">
      {{' &bull; ' + (data.runtime / 60 | round ) + 'h ' +
      (data.runtime % 60 === 0  ? '00' : data.runtime % 60) + 'm'}}
    </span>
  </div>
  <h3 class="tagline" *ngIf="data.tagline">{{ data.tagline }} </h3>
  <div class="overview">
    <h4 class="section-title">Overview</h4>
    <p>{{ data.overview }}</p>
  </div>
  <div class="credits" *ngIf="data.credits.crew.length">
    <div class="crew-member">
      <h4>Directed by</h4>
      <span class="name" *ngFor="let person of findCrewMembers(data.credits.crew, 'director');
                    last as isLast">
                    {{person != null ? person.name : 'N/A'}}
        <span *ngIf="!isLast">, </span></span>
    </div>
    <div class="crew-member" *ngIf="findCrewMembers(data.credits.crew, 'writer').length; else screenplay">
      <h4 >Written by</h4>
      <span class="name" *ngFor="let person of findCrewMembers(data.credits.crew, 'writer');
                    last as isLast">{{person.name}}<span *ngIf="!isLast">, </span></span>
    </div>
    <ng-template #screenplay class="crew-member">
      <h4>Written by</h4>
      <span class="name" *ngFor="let person of findCrewMembers(data.credits.crew, 'screenplay');
                  last as isLast">{{person.name}}<span *ngIf="!isLast">, </span></span>
    </ng-template>
  </div>
  <div class="genres">
        <span class="btn btn-selected" *ngFor="let genre of data.genres">
            {{genre.name}}
        </span>
  </div>
</div>
