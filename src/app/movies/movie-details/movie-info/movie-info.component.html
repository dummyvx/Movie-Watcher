<div class="poster">
  <img *ngIf="movieDetails.poster_path; else noImage"
       [src]="env + movieDetails.poster_path" [alt]="movieDetails.title">
</div>
<ng-template #noImage>
  <img class="no-movies" src="../../../../assets/no-image.png" alt="no image">
</ng-template>
<div class="movie-info">
  <div class="basic-details">
    <h2 class="title">{{movieDetails.title}}
      <span class="release-date">
      {{ ' (' + movieDetails.release_date.slice(0, 4) + ')' }}
      </span>
    </h2>
    <app-movie-rating [rating]="movieDetails.vote_average"
                      [fontSize]="'1.2rem'"
                      [top]="'1.2rem'"
                      [right]="'1.2rem'">
    </app-movie-rating>
    <span *ngIf="movieDetails.original_title">
      <span>Original Title: </span>
      <span [ngStyle]="{fontStyle: 'italic'}">
        {{movieDetails.original_title }}
      </span>
    </span>
    <span *ngIf="movieDetails.original_language">
      {{ ' &bull; ' + 'Original Language: ' + movieDetails.original_language.toUpperCase() }}
    </span>
    <span *ngIf="movieDetails.runtime">
      {{' &bull; ' + (movieDetails.runtime / 60 | round ) + 'h ' +
      (movieDetails.runtime % 60 === 0  ? '00' : movieDetails.runtime % 60) + 'm'}}
    </span>
  </div>
  <h3 class="tagline" *ngIf="movieDetails.tagline">{{ movieDetails.tagline }} </h3>
  <div class="overview">
    <h4 class="section-title">Overview</h4>
    <p>{{ movieDetails.overview }}</p>
  </div>
  <div class="credits" *ngIf="movieDetails.credits.crew.length">
    <div class="crew-member">
      <h4>Directed by</h4>
      <span class="name" *ngFor="let person of findCrewMembers(movieDetails.credits.crew, 'director');
                    last as isLast">
                    {{person != null ? person.name : 'N/A'}}
        <span *ngIf="!isLast">, </span></span>
    </div>
    <div class="crew-member" *ngIf="findCrewMembers(movieDetails.credits.crew, 'writer').length; else screenplay">
      <h4 >Written by</h4>
      <span class="name" *ngFor="let person of findCrewMembers(movieDetails.credits.crew, 'writer');
                    last as isLast">{{person.name}}<span *ngIf="!isLast">, </span></span>
    </div>
    <ng-template #screenplay class="crew-member">
      <h4>Written by</h4>
      <span class="name" *ngFor="let person of findCrewMembers(movieDetails.credits.crew, 'screenplay');
                  last as isLast">{{person.name}}<span *ngIf="!isLast">, </span></span>
    </ng-template>
  </div>
  <div class="genres">
        <span class="btn btn-selected" *ngFor="let genre of movieDetails.genres">
            {{genre.name}}
        </span>
  </div>
</div>
